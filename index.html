<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- ðŸ”¥ PERFECT MOBILE VIEW (no zoom, no stretching) -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"
    />

    <title>One Way Ticket</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React + Babel -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      * {
        box-sizing: border-box;
      }
      html,
      body {
        margin: 0;
        padding: 0;
        background: #000;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;
        overscroll-behavior: none;
      }

      /* Center app like NJ Transit */
      body {
        display: flex;
        justify-content: center;
        overflow-y: auto;
      }

      /* iPhone width container */
      #root {
        width: 100%;
        max-width: 430px;
        margin: 0 auto;
      }

      /* NJ EXACT CARD SIZE + SPACING */
      .ticket-card {
        width: 94%; /* white card margins same as screenshot */
        max-width: 500px;
        margin: 18px auto 28px auto; /* top and bottom spacing */
        border-radius: 28px;
      }

      /* Safe area support */
      .header-safe {
        padding-top: env(safe-area-inset-top, 14px);
      }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      /** Simple inline icons **/
      const ChevronLeft = ({ className, strokeWidth = 2.5 }) => (
        <svg
          className={className}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth={strokeWidth}
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <polyline points="15 18 9 12 15 6" />
        </svg>
      );

      const TicketDemo = () => {
        const [zoneName, setZoneName] = useState("INTRASTATE");
        const [zoneNumber, setZoneNumber] = useState(2);
        const [zoneNumberSize, setZoneNumberSize] = useState(100);

        const [colors, setColors] = useState({
          qrBackground: "#d8b4fe",
          progressColors: ["#7c3aed", "#ec4899", "#22c55e"],
          zoneNameColor: "#000",
        });

        const [timeRemaining, setTimeRemaining] = useState(30 * 60);
        const [isActive, setIsActive] = useState(true);
        const [qrCodeImage, setQrCodeImage] = useState(null);
        const [showProgress, setShowProgress] = useState(true);

        useEffect(() => {
          if (!isActive) return;

          const interval = setInterval(() => {
            setTimeRemaining((prev) => Math.max(prev - 1, 0));
          }, 1000);

          return () => clearInterval(interval);
        }, [isActive]);

        useEffect(() => {
          const blink = setInterval(
            () => setShowProgress((p) => !p),
            500
          );
          return () => clearInterval(blink);
        }, []);

        const formatTime = (s) =>
          `${Math.floor(s / 60)}:${String(s % 60).padStart(2, "0")}`;

        return (
          <div className="min-h-screen bg-blue-500 flex flex-col">
            {/* HEADER */}
            <div className="bg-blue-500">
              <div
                className="header-safe flex items-center justify-between px-4 py-4 text-white"
              >
                <button>
                  <ChevronLeft className="w-7 h-7" />
                </button>
                <h1 className="text-base font-medium">One Way Ticket</h1>
                <div className="w-6 h-6 opacity-0"></div>
              </div>
            </div>

            {/* WHITE CARD */}
            <div className="flex-1 bg-blue-500 flex justify-center items-start pb-8">
              <div className="ticket-card bg-white shadow-2xl">

                {/* QR */}
                <div className="pt-7 pb-0 px-6 flex flex-col items-center">
                  <div
                    className="w-40 h-40 rounded-2xl flex items-center justify-center"
                    style={{ backgroundColor: colors.qrBackground }}
                  >
                    {qrCodeImage ? (
                      <img
                        src={qrCodeImage}
                        className="w-32 h-32 object-contain"
                      />
                    ) : (
                      <div className="w-32 h-32 bg-black"></div>
                    )}
                  </div>
                  <p
                    className="text-gray-500 font-semibold"
                    style={{ fontSize: "10px", marginTop: "6px" }}
                  >
                    Tap to enlarge
                  </p>
                </div>

                {/* Dashed divider */}
                <div className="px-10 py-0 mt-3">
                  <div className="border-t-2 border-dashed border-gray-200"></div>
                </div>

                {/* TITLE / NUMBER */}
                <div className="px-6 text-center mt-3">
                  <h2
                    style={{
                      fontSize: "30px",
                      fontWeight: 650,
                      color: colors.zoneNameColor,
                      marginBottom: "10px",
                    }}
                  >
                    {zoneName}
                  </h2>

                  <div
                    style={{
                      fontSize: `${zoneNumberSize}px`,
                      fontWeight: 900,
                      lineHeight: 0.65,
                      marginBottom: "16px",
                    }}
                  >
                    {zoneNumber}
                  </div>

                  <p className="font-semibold text-[17px] leading-none">
                    ZONE RIDE
                  </p>
                  <p className="font-semibold text-[15px] leading-none mt-1">
                    1 Adult
                  </p>
                </div>

                {/* WHITE GAP like real ticket */}
                <div style="height: 170px;"></div>

                {/* PROGRESS BAR */}
                <div className="px-8 pb-4 text-center">
                  <div className="w-full mb-4">
                    <div className="flex h-4 overflow-hidden bg-white">
                      {showProgress && (
                        <div
                          className="w-full transition-all duration-300"
                          style={{
                            background: `linear-gradient(to right,
                              ${colors.progressColors[0]} 0%,
                              ${colors.progressColors[0]} 30%,
                              ${colors.progressColors[1]} 30%,
                              ${colors.progressColors[1]} 65%,
                              ${colors.progressColors[2]} 65%,
                              ${colors.progressColors[2]} 100%)`,
                          }}
                        ></div>
                      )}
                    </div>
                  </div>

                  <div className="bg-gray-200 w-full h-[2px] my-5"></div>

                  <p className="font-bold text-[20px] leading-none">
                    Expires in {formatTime(timeRemaining)}
                  </p>

                  <a
                    className="underline text-gray-900 block mt-3 text-[11px]"
                    href="#"
                  >
                    View Onboard Validator Instructions
                  </a>
                </div>
              </div>
            </div>
          </div>
        );
      };

      ReactDOM.render(<TicketDemo />, document.getElementById("root"));
    </script>
  </body>
</html>
